# name: test/sql/sqlpgq/all_properties.test
# group: [sqlpgq]

statement ok
pragma enable_verification

require duckpgq

load __TEST_DIR__/persistent_property_graph.db

statement ok
import database 'duckdb-pgq/data/SNB0.003';

statement ok
-CREATE PROPERTY GRAPH snb
VERTEX TABLES (
    Person,
    Organisation IN typemask(company, university)
    )
EDGE TABLES (
    Person_knows_person     SOURCE KEY (Person1Id) REFERENCES Person (id)
                            DESTINATION KEY (Person2Id) REFERENCES Person (id)
                            LABEL Knows,
    person_workAt_Organisation SOURCE KEY (PersonId) REFERENCES Person (id)
                               DESTINATION KEY (OrganisationId) REFERENCES Organisation (id)
                               LABEL workAt_Organisation
   );

query IIIIIIIIIIII
select * from duckpgq_property_graph_information;
----
snb	Organisation	organisation	true	NULL	NULL	NULL	NULL	NULL	NULL	typemask	[company, university]
snb	Person	person	true	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
snb	person_workAt_Organisation	workat_organisation	false	Person	[id]	[PersonId]	Organisation	[id]	[OrganisationId]	NULL	NULL
snb	Person_knows_person	knows	false	Person	[id]	[Person1Id]	Person	[id]	[Person2Id]	NULL	NULL

restart

require duckpgq

query IIIIIIIIIIII
select * from duckpgq_property_graph_information;
----
snb	Organisation	organisation	true	NULL	NULL	NULL	NULL	NULL	NULL	typemask	[company, university]
snb	Person	person	true	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL
snb	person_workAt_Organisation	workat_organisation	false	Person	[id]	[PersonId]	Organisation	[id]	[OrganisationId]	NULL	NULL
snb	Person_knows_person	knows	false	Person	[id]	[Person1Id]	Person	[id]	[Person2Id]	NULL	NULL